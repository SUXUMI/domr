#!/usr/bin/env ruby
require 'domainr'
require 'rainbow'

if !ARGV[0]
	puts "Please enter a name".color(:red)
	exit
end

search = Domainr.search(ARGV[0])

puts "\n"

puts "Your query: " << search.query

puts "\n"

search.results.each do |result|
	if result.availability == 'available'
		color = :green
	elsif result.availability == 'taken' || result.availability == 'unavailable'
		color = :red
	elsif result.availability == 'tld'
		color = :yellow
	else
		color = :white
	end
	string = " " << result.domain << " " << result.availability
	puts string.color(color)
end